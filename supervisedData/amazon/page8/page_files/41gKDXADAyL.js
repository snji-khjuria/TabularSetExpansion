(function(r){var u=window.AmazonUIPageJS||window.P,H=u._namespace||u.attributeErrors,z=H?H("VSECommonComponentAssets",""):u;z.guardFatal?z.guardFatal(r)(z,window):z.execute(function(){r(z,window)})})(function(r,u,H){(function(){function z(a){return a}function H(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function sb(a,b,c){b=wa(void 0===b?a.length-1:b,0);return function(){for(var d=
arguments,e=-1,f=wa(d.length-b,0),h=Array(f);++e<f;)h[e]=d[b+e];e=-1;for(f=Array(b+1);++e<b;)f[e]=d[e];f[b]=c(h);return H(a,this,f)}}function tb(a){return function(){return a}}function N(a){if(null==a)return void 0===a?"[object Undefined]":"[object Null]";if(xa&&xa in Object(a)){var b=ub.call(a,R),c=a[R];try{a[R]=void 0;var d=!0}catch(f){}var e=vb.call(a);d&&(b?a[R]=c:delete a[R]);a=e}else a=wb.call(a);return a}function E(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function ya(a){if(!E(a))return!1;
a=N(a);return"[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}function I(a){if(null!=a){try{return xb.call(a)}catch(b){}return a+""}return""}function J(a,b){a=null==a?void 0:a[b];b=!E(a)||za&&za in a?!1:(ya(a)?yb:zb).test(I(a));return b?a:void 0}function Aa(a){var b=0,c=0;return function(){var d=Ab(),e=16-(d-c);c=d;if(0<e){if(800<=++b)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}function S(a){return function(){var b=arguments;
switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=ha(a.prototype),b=a.apply(c,b);return E(b)?b:c}}function Bb(a,b,c){function d(){return(this&&this!==A&&this instanceof d?f:a).apply(e?c:this,arguments)}var e=b&1,f=S(a);return d}
function Ba(a,b,c,d){var e=-1,f=a.length,h=c.length,g=-1,l=b.length,p=Cb(f-h,0),k=Array(l+p);for(d=!d;++g<l;)k[g]=b[g];for(;++e<h;)if(d||e<f)k[c[e]]=a[e];for(;p--;)k[g++]=a[e++];return k}function Ca(a,b,c,d){var e=-1,f=a.length,h=-1,g=c.length,l=-1,p=b.length,k=Db(f-g,0),n=Array(k+p);for(d=!d;++e<k;)n[e]=a[e];for(k=e;++l<p;)n[k+l]=b[l];for(;++h<g;)if(d||e<f)n[k+c[h]]=a[e++];return n}function ia(){}function O(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=
[];this.__takeCount__=4294967295;this.__views__=[]}function Eb(){}function P(a,b){this.__wrapped__=a;this.__actions__=[];this.__chain__=!!b;this.__index__=0;this.__values__=void 0}function K(a){return null!=a&&"object"==typeof a}function Da(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function X(a){if(K(a)&&!w(a)&&!(a instanceof O)){if(a instanceof P)return a;if(Fb.call(a,"__wrapped__")){if(a instanceof O)a=a.clone();else{var b=new P(a.__wrapped__,a.__chain__);b.__actions__=
Da(a.__actions__);b.__index__=a.__index__;b.__values__=a.__values__;a=b}return a}}return new P(a)}function Gb(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}function Hb(a,b){Gb(Ib,function(c){var d="_."+c[0];if(c=b&c[1]){if(c=null==a?0:a.length){if(d===d)a:{c=-1;for(var e=a.length;++c<e;)if(a[c]===d)break a;c=-1}else a:{c=a.length;for(e=-1;++e<c;){var f=a[e];if(f!==f){c=e;break a}}c=-1}c=-1<c}c=!c}c&&a.push(d)});return a.sort()}function Ea(a,b,c){b+="";var d;d=(d=b.match(Jb))?
d[1].split(Kb):[];c=Hb(d,c);if(d=c.length){var e=d-1;c[e]=(1<d?"\x26 ":"")+c[e];c=c.join(2<d?", ":" ");b=b.replace(Lb,"{\n/* [wrapped with "+c+"] */\n")}return Fa(a,b)}function Ga(a,b,c,d,e,f,h,g,l,p){var k=b&8;b=(b|(k?32:64))&~(k?64:32);b&4||(b&=-4);e=[a,b,e,k?f:void 0,k?h:void 0,k?void 0:f,k?void 0:h,g,l,p];c=c.apply(void 0,e);b:for(f=a.name+"",h=Ha[f],g=Mb.call(Ha,f)?h.length:0;g--;)if(l=h[g],p=l.func,null==p||p==a){f=l.name;break b}h=X[f];"function"==typeof h&&f in O.prototype?a===h?f=!0:(f=Ia(h),
f=!!f&&a===f[0]):f=!1;f&&Ja(c,e);c.placeholder=d;return Ea(c,a,b)}function ja(a,b){b=null==b?9007199254740991:b;return!!b&&("number"==typeof a||Nb.test(a))&&-1<a&&0==a%1&&a<b}function T(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var h=a[c];if(h===b||"__lodash_placeholder__"===h)a[c]="__lodash_placeholder__",f[e++]=c}return f}function ka(a,b,c,d,e,f,h,g,l,p){function k(){for(var F=arguments.length,x=Array(F),r=F;r--;)x[r]=arguments[r];if(y){var u=k.placeholder,w,r=x.length;for(w=0;r--;)x[r]===u&&
++w}d&&(x=Ba(x,d,e,y));f&&(x=Ca(x,f,h,y));F-=w;if(y&&F<p)return u=T(x,u),Ga(a,b,ka,k.placeholder,c,x,u,g,l,p-F);u=m?c:this;r=v?u[a]:a;F=x.length;if(g){w=x.length;for(var z=Ob(g.length,w),C=Da(x);z--;){var B=g[z];x[z]=ja(B,w)?C[B]:void 0}}else t&&1<F&&x.reverse();n&&l<F&&(x.length=l);this&&this!==A&&this instanceof k&&(r=q||S(r));return r.apply(u,x)}var n=b&128,m=b&1,v=b&2,y=b&24,t=b&512,q=v?void 0:S(a);return k}function Pb(a,b,c){function d(){for(var f=arguments.length,h=Array(f),g=f,l=d.placeholder;g--;)h[g]=
arguments[g];g=3>f&&h[0]!==l&&h[f-1]!==l?[]:T(h,l);f-=g.length;return f<c?Ga(a,b,ka,d.placeholder,void 0,h,g,void 0,void 0,c-f):H(this&&this!==A&&this instanceof d?e:a,this,h)}var e=S(a);return d}function Qb(a,b,c,d){function e(){for(var b=-1,l=arguments.length,p=-1,k=d.length,n=Array(k+l),m=this&&this!==A&&this instanceof e?h:a;++p<k;)n[p]=d[p];for(;l--;)n[p++]=arguments[++b];return H(m,f?c:this,n)}var f=b&1,h=S(a);return e}function Y(a){return"symbol"==typeof a||K(a)&&"[object Symbol]"==N(a)}function Rb(a){if("number"==
typeof a)return a;if(Y(a))return Ka;E(a)&&(a="function"==typeof a.valueOf?a.valueOf():a,a=E(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a.replace(Sb,"");var b=Tb.test(a);return b||Ub.test(a)?Vb(a.slice(2),b?2:8):Wb.test(a)?Ka:+a}function La(a){a?(a=Rb(a),a=a===Ma||a===-Ma?1.7976931348623157E308*(0>a?-1:1):a===a?a:0):a=0===a?a:0;var b=a%1;return a===a?b?a-b:a:0}function Xb(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var h=a[e];b(d,h,c(h),a)}return d}function Na(a){return K(a)&&"[object Arguments]"==
N(a)}function Yb(){return!1}function la(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function Zb(a){return K(a)&&la(a.length)&&!!q[N(a)]}function $b(a){return function(b){return a(b)}}function Oa(a){return null!=a&&la(a.length)&&!ya(a)}function Z(a){if(Oa(a)){var b=w(a),c=!b&&Pa(a),d=!b&&!c&&ma(a),e=!b&&!c&&!d&&Qa(a);if(b=b||c||d||e){for(var c=a.length,f=String,h=-1,g=Array(c);++h<c;)g[h]=f(h);c=g}else c=[];var f=c.length,l;for(l in a)!ac.call(a,l)||b&&("length"==l||d&&("offset"==
l||"parent"==l)||e&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ja(l,f))||c.push(l);a=c}else if(l=a&&a.constructor,a===("function"==typeof l&&l.prototype||bc)){l=[];for(d in Object(a))cc.call(a,d)&&"constructor"!=d&&l.push(d);a=l}else a=dc(a);return a}function ec(a,b,c,d){fc(a,function(a,f,h){b(d,a,c(a),h)});return d}function Ra(a,b){return a===b||a!==a&&b!==b}function aa(a,b){for(var c=a.length;c--;)if(Ra(a[c][0],b))return c;return-1}function C(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<
c;){var d=a[b];this.set(d[0],d[1])}}function L(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function ba(a,b){a=a.__data__;var c=typeof b;return("string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==b:null===b)?a["string"==typeof b?"string":"hash"]:a.map}function B(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function D(a){this.size=(this.__data__=new C(a)).size}function ca(a){var b=-1,c=null==a?0:
a.length;for(this.__data__=new B;++b<c;)this.add(a[b])}function gc(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function Sa(a,b,c,d,e,f){var h=c&1,g=a.length,l=b.length;if(g!=l&&!(h&&l>g))return!1;if((l=f.get(a))&&f.get(b))return l==b;var l=-1,p=!0,k=c&2?new ca:void 0;f.set(a,b);for(f.set(b,a);++l<g;){var n=a[l],m=b[l];if(d)var v=h?d(m,n,l,b,a,f):d(n,m,l,a,b,f);if(void 0!==v){if(v)continue;p=!1;break}if(k){if(!gc(b,function(a,b){if(!k.has(b)&&(n===a||e(n,a,c,d,f)))return k.push(b)})){p=
!1;break}}else if(n!==m&&!e(n,m,c,d,f)){p=!1;break}}f["delete"](a);f["delete"](b);return p}function hc(a){var b=-1,c=Array(a.size);a.forEach(function(a,e){c[++b]=[e,a]});return c}function ic(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}function jc(a,b,c,d,e,f,h){switch(c){case "[object DataView]":if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer;b=b.buffer;case "[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!f(new Ta(a),new Ta(b)))break;return!0;
case "[object Boolean]":case "[object Date]":case "[object Number]":return Ra(+a,+b);case "[object Error]":return a.name==b.name&&a.message==b.message;case "[object RegExp]":case "[object String]":return a==b+"";case "[object Map]":var g=hc;case "[object Set]":g||(g=ic);if(a.size!=b.size&&!(d&1))break;if(c=h.get(a))return c==b;d|=2;h.set(a,b);b=Sa(g(a),g(b),d,e,f,h);h["delete"](a);return b;case "[object Symbol]":if(na)return na.call(a)==na.call(b)}return!1}function Ua(a,b,c){b=b(a);if(!w(a)){a=c(a);
c=-1;for(var d=a.length,e=b.length;++c<d;)b[e+c]=a[c]}return b}function kc(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var h=a[c];b(h,c,a)&&(f[e++]=h)}return f}function lc(){return[]}function Q(a,b,c,d,e){if(a===b)return!0;if(null==a||null==b||!K(a)&&!K(b))return a!==a&&b!==b;a:{var f=w(a),h=w(b),g=f?"[object Array]":Va(a),l=h?"[object Array]":Va(b),g="[object Arguments]"==g?"[object Object]":g,l="[object Arguments]"==l?"[object Object]":l,p="[object Object]"==g,h="[object Object]"==l;
if((l=g==l)&&ma(a)){if(!ma(b)){b=!1;break a}f=!0;p=!1}if(l&&!p)e||(e=new D),b=f||Qa(a)?Sa(a,b,c,d,Q,e):jc(a,b,g,c,d,Q,e);else{if(!(c&1)&&(f=p&&Wa.call(a,"__wrapped__"),g=h&&Wa.call(b,"__wrapped__"),f||g)){a=f?a.value():a;b=g?b.value():b;e||(e=new D);b=Q(a,b,c,d,e);break a}if(l)b:if(e||(e=new D),f=c&1,g=Ua(a,Z,Xa),h=g.length,l=Ua(b,Z,Xa).length,h==l||f){for(p=h;p--;){var k=g[p];if(!(f?k in b:mc.call(b,k))){b=!1;break b}}if((l=e.get(a))&&e.get(b))b=l==b;else{l=!0;e.set(a,b);e.set(b,a);for(var n=f;++p<
h;){var k=g[p],m=a[k],v=b[k];if(d)var y=f?d(v,m,k,b,a,e):d(m,v,k,a,b,e);if(void 0===y?m!==v&&!Q(m,v,c,d,e):!y){l=!1;break}n||(n="constructor"==k)}l&&!n&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(l=!1));e["delete"](a);e["delete"](b);b=l}}else b=!1;else b=!1}}return b}function nc(a,b,c,d){var e=c.length,f=e,h=!d;if(null==a)return!f;for(a=Object(a);e--;){var g=c[e];if(h&&g[2]?g[1]!==a[g[0]]:
!(g[0]in a))return!1}for(;++e<f;){var g=c[e],l=g[0],p=a[l],k=g[1];if(h&&g[2]){if(void 0===p&&!(l in a))return!1}else{g=new D;if(d)var n=d(p,k,l,a,b,g);if(void 0===n?!Q(k,p,3,d,g):!n)return!1}}return!0}function oc(a){for(var b=Z(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,e===e&&!E(e)]}return b}function Ya(a,b){return function(c){return null==c?!1:c[a]===b&&(void 0!==b||a in Object(c))}}function pc(a){var b=oc(a);return 1==b.length&&b[0][2]?Ya(b[0][0],b[0][1]):function(c){return c===a||nc(c,a,
b)}}function oa(a,b){if(w(a))return!1;var c=typeof a;return"number"==c||"symbol"==c||"boolean"==c||null==a||Y(a)?!0:qc.test(a)||!rc.test(a)||null!=b&&a in Object(b)}function pa(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);d=a.apply(this,d);c.cache=f.set(e,d)||f;return d};c.cache=new (pa.Cache||B);return c}function Za(a){if("string"==typeof a)return a;
if(w(a)){for(var b=-1,c=null==a?0:a.length,d=Array(c);++b<c;)d[b]=Za(a[b],b,a);return d+""}if(Y(a))return $a?$a.call(a):"";b=a+"";return"0"==b&&1/a==-sc?"-0":b}function ab(a,b){return w(a)?a:oa(a,b)?[a]:tc(null==a?"":Za(a))}function da(a){if("string"==typeof a||Y(a))return a;var b=a+"";return"0"==b&&1/a==-uc?"-0":b}function bb(a,b){b=ab(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[da(b[c++])];return c&&c==d?a:void 0}function vc(a,b){return oa(a)&&b===b&&!E(b)?Ya(da(a),b):function(c){var d;d=null==
c?void 0:bb(c,a);d=void 0===d?void 0:d;var e;if(void 0===d&&d===b){if(d=null!=c){d=a;d=ab(d,c);for(var f=-1,h=d.length,g=!1;++f<h;){e=da(d[f]);if(!(g=null!=c&&null!=c&&e in Object(c)))break;c=c[e]}g||++f!=h?d=g:(h=null==c?0:c.length,d=!!h&&la(h)&&ja(e,h)&&(w(c)||Pa(c)))}e=d}else e=Q(b,d,3);return e}}function wc(a){return function(b){return null==b?void 0:b[a]}}function xc(a){return function(b){return bb(b,a)}}u.vseFeatures=u.vseFeatures||{};var cb=u.gatedP||{register:function(a,b,c,d,e){void 0===
e&&(e=u.vseFeatures);r.now(a).execute(a+"-prereg",function(f){f||e[b]||(e[b]=!0,d.resolve(c(d)).then(function(){r.now(a).execute(a+"-reg",function(c){c||(r.log("Gated registration failed to register module!","ERROR",a),e[b]=!1)})}))})},declare:function(a,b,c,d){void 0===d&&(d=u.vseFeatures);r.now(a).execute(a+"-prereg",function(e){e||d[b]||(d[b]=!0,r.declare(a,c))})}},yc=function(a,b){return b={exports:{}},a(b,b.exports),b.exports}(function(a){function b(){}function c(a,b,c){this.fn=a;this.context=
b;this.once=c||!1}function d(){this._events=new b;this._eventsCount=0}var e=Object.prototype.hasOwnProperty,f="~";Object.create&&(b.prototype=Object.create(null),(new b).__proto__||(f=!1));d.prototype.eventNames=function(){var a=[],b,c;if(0===this._eventsCount)return a;for(c in b=this._events)e.call(b,c)&&a.push(f?c.slice(1):c);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(b)):a};d.prototype.listeners=function(a,b){a=this._events[f?f+a:a];if(b)return!!a;if(!a)return[];
if(a.fn)return[a.fn];b=0;for(var c=a.length,d=Array(c);b<c;b++)d[b]=a[b].fn;return d};d.prototype.emit=function(a,b,c,d,e,n){var m=f?f+a:a;if(!this._events[m])return!1;var m=this._events[m],v=arguments.length,y,t;if(m.fn){m.once&&this.removeListener(a,m.fn,void 0,!0);switch(v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,b),!0;case 3:return m.fn.call(m.context,b,c),!0;case 4:return m.fn.call(m.context,b,c,d),!0;case 5:return m.fn.call(m.context,b,c,d,e),!0;case 6:return m.fn.call(m.context,
b,c,d,e,n),!0}t=1;for(y=Array(v-1);t<v;t++)y[t-1]=arguments[t];m.fn.apply(m.context,y)}else{var q=m.length,r;for(t=0;t<q;t++)switch(m[t].once&&this.removeListener(a,m[t].fn,void 0,!0),v){case 1:m[t].fn.call(m[t].context);break;case 2:m[t].fn.call(m[t].context,b);break;case 3:m[t].fn.call(m[t].context,b,c);break;case 4:m[t].fn.call(m[t].context,b,c,d);break;default:if(!y)for(r=1,y=Array(v-1);r<v;r++)y[r-1]=arguments[r];m[t].fn.apply(m[t].context,y)}}return!0};d.prototype.on=function(a,b,d){b=new c(b,
d||this);a=f?f+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],b]:this._events[a].push(b):(this._events[a]=b,this._eventsCount++);return this};d.prototype.once=function(a,b,d){b=new c(b,d||this,!0);a=f?f+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],b]:this._events[a].push(b):(this._events[a]=b,this._eventsCount++);return this};d.prototype.removeListener=function(a,c,d,e){a=f?f+a:a;if(!this._events[a])return this;if(!c)return 0===--this._eventsCount?
this._events=new b:delete this._events[a],this;var k=this._events[a];if(k.fn)k.fn!==c||e&&!k.once||d&&k.context!==d||(0===--this._eventsCount?this._events=new b:delete this._events[a]);else{for(var n=0,m=[],v=k.length;n<v;n++)(k[n].fn!==c||e&&!k[n].once||d&&k[n].context!==d)&&m.push(k[n]);m.length?this._events[a]=1===m.length?m[0]:m:0===--this._eventsCount?this._events=new b:delete this._events[a]}return this};d.prototype.removeAllListeners=function(a){a?(a=f?f+a:a,this._events[a]&&(0===--this._eventsCount?
this._events=new b:delete this._events[a])):(this._events=new b,this._eventsCount=0);return this};d.prototype.off=d.prototype.removeListener;d.prototype.addListener=d.prototype.on;d.prototype.setMaxListeners=function(){return this};d.prefixed=f;d.EventEmitter=d;"undefined"!==typeof a&&(a.exports=d)}).EventEmitter,zc=function(){function a(a,c){void 0===c&&(c={refTagRecorderEndPoint:"/gp/mobile/tag/",retryLimit:3});this.A=a;this.config=c}a.prototype.emitRefTag=function(a,c){void 0===c&&(c=0);if(!(c>=
this.config.retryLimit)){var d=this;this.A.post(this.config.refTagRecorderEndPoint+"ref\x3d"+a,{error:function(){d.emitRefTag(a,c++)}})}};return a}(),Ac=function(){function a(a,c,d,e,f){var h=this;this.carouselFramework=c;this.A=d;this.contentCarouselConfig=e;this.deps=f;this.vseAssets=[];this.carouselPageSize=0;this.carouselPageNumber=1;var g=d.$;this.activeCard=g([]);var l=this;this.auiCarousel=a;this.refTagRecorder=new zc(d);g("#"+e.carouselName).find(".a-carousel-heading").after(g("#"+e.carouselName).find(".vse-upload-link").removeClass("aok-hidden"));
g("#"+e.carouselName+" .vse-video-item").each(function(){l.vseAssets.push(l.getAssetSpec(g(this)))});this.vseAssetIndex=this.deps._keyBy(this.vseAssets,"contentId");g("#"+e.carouselName).delegate(".a-carousel-card a","click",function(a){if(!g(this).closest("li").hasClass("active")){var b=l.vseAssetIndex[g(this).closest("li").find(".vse-video-item").data("asin")];l.markPlaying(b);b.eventTimestamp=Date.now();d.trigger("vse:contentCarousel:"+e.carouselName+":click",b);b=l.findIndex(b);l._emitRefTag(b,
l.contentCarouselConfig.refTagPrefix)}a.preventDefault()});g("#"+e.carouselName+" .vse-carousel-item").each(function(a){var b=g(this);b.attr("href",b.data("redirect-url")+"?ref\x3d"+l.contentCarouselConfig.refTagPrefix+a)});d.off("a:carousel:"+e.carouselName+":change:pageSize");d.off("a:carousel:"+e.carouselName+":change:pageNumber");d.on("a:carousel:"+e.carouselName+":change:pageSize",function(){h.carouselPageSize=h.auiCarousel.getAttr("pageSize");h.activeAsset&&h.rotateTo(h.activeAsset)});d.trigger("a:carousel:"+
e.carouselName+":change:pageSize");d.on("a:carousel:"+e.carouselName+":change:pageNumber",function(){h.carouselPageNumber=h.auiCarousel.getAttr("pageNumber");d.trigger("a:carousel:"+e.carouselName+":scrollCarousel",h.carouselPageNumber,h.carouselPageSize)});d.trigger("a:carousel:"+e.carouselName+":updatePageIndex",this.carouselPageNumber,this.carouselPageSize)}a.prototype.getplaylist=function(){return this.vseAssets.slice()};a.prototype.getActiveAsset=function(){return this.activeAsset};a.prototype.scrollTo=
function(){this.A.$("#"+this.contentCarouselConfig.carouselName).animate({scrollTop:this.activeCard.offset().top-this.A.$("#"+this.contentCarouselConfig.carouselName).offset().top+this.A.$("#"+this.contentCarouselConfig.carouselName).scrollTop()})};a.prototype.rotateTo=function(a){this.markPlaying(a);this.contentCarouselConfig.isVerticalScroll&&this.scrollTo();0!==this.carouselPageSize&&(a=this.findIndex(a),-1!==a&&(a=Math.floor(a/this.carouselPageSize)+1,this.carouselPageNumber!=a&&this.auiCarousel.gotoPage(a)))};
a.prototype.changeStartingCardTo=function(a){var c=this;this.listOffset=this.findIndex(a);if(!this.contentCarouselConfig.isVerticalScroll){this.carouselFramework.initializeAll();this.carouselFramework.onInit(""+this.contentCarouselConfig.carouselName,function(){c.rotateTo(a)});var d=this;this.A.$("#"+this.contentCarouselConfig.carouselName+" .vse-carousel-item").each(function(a){var b=d.A.$(this);a=(a-d.listOffset+d.vseAssets.length)%d.vseAssets.length;b.attr("href",b.data("redirect-url")+"?ref\x3d"+
d.contentCarouselConfig.refTagPrefix+a)})}};a.prototype.markPlaying=function(a){this.activeAsset=a;this.activeCard.removeClass("active");this.activeCard=this.vseAssetIndex[a.contentId].$el.closest("li").addClass("active")};a.prototype.findIndex=function(a){return this.vseAssets.indexOf(this.vseAssetIndex[a.contentId])};a.prototype._emitRefTag=function(a,c){0<this.listOffset&&(a=(a-this.listOffset+this.vseAssets.length)%this.vseAssets.length);this.refTagRecorder.emitRefTag(c+a)};a.prototype.destroy=
function(){this.A.$("#"+this.contentCarouselConfig.carouselName+" .a-carousel-card.active").removeClass("active")};a.prototype.getAssetSpec=function(a){var c=a.data(),d=a.find(".vse-video-image").data("img"),d=d.replace("SR160,90_BG0,0,0_PKvse-overlay-play2","").replace("SR320,180_BG0,0,0_PKvse-overlay-play2","");return{contentId:c.asin,title:c.title,vendorName:c.vendorName,vendorCode:c.vendorCode,referenceUrl:c.referenceUrl,referenceLinkTitle:c.referenceTitle,videoUrl:c.videoUrl,$el:a,duration:c.duration,
imageUrl:d,sponsored:c.sponsored}};return a}(),Bc=function(){return function(a){this.name="InvalidArugmentsException";this.message=a}}(),Cc=function(){function a(a,c,d){this.carouselFramework=a;this.A=c;this.deps=d}a.prototype.create=function(a){var c=this.carouselFramework.getCarousel(this.A.$("#"+a.carouselName));if(!c)throw new Bc("Carousel framework can not find carousel by the name of "+a.carouselName+".");return new Ac(c,this.carouselFramework,this.A,a,this.deps)};return a}(),wa=Math.max,db=
"object"==typeof global&&global&&global.Object===Object&&global,Dc="object"==typeof self&&self&&self.Object===Object&&self,A=db||Dc||Function("return this")(),G=A.Symbol,eb=Object.prototype,ub=eb.hasOwnProperty,vb=eb.toString,R=G?G.toStringTag:void 0,wb=Object.prototype.toString,xa=G?G.toStringTag:void 0,qa=A["__core-js_shared__"],za=function(){var a=/[^.]+$/.exec(qa&&qa.keys&&qa.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),xb=Function.prototype.toString,zb=/^\[object .+?Constructor\]$/,yb=
RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ea=function(){try{var a=J(Object,"defineProperty");a({},"",{});return a}catch(b){}}(),Ab=Date.now,Fa=Aa(ea?function(a,b){return ea(a,"toString",{configurable:!0,enumerable:!1,value:tb(b),writable:!0})}:z),U=J(A,"WeakMap"),fa=U&&new U,fb=fa?function(a,b){fa.set(a,b);return a}:z,gb=Object.create,ha=function(){function a(){}
return function(b){if(!E(b))return{};if(gb)return gb(b);a.prototype=b;b=new a;a.prototype=void 0;return b}}(),Cb=Math.max,Db=Math.max;O.prototype=ha(ia.prototype);O.prototype.constructor=O;var Ia=fa?function(a){return fa.get(a)}:Eb,Ha={},Mb=Object.prototype.hasOwnProperty;P.prototype=ha(ia.prototype);P.prototype.constructor=P;var w=Array.isArray,Fb=Object.prototype.hasOwnProperty;X.prototype=ia.prototype;X.prototype.constructor=X;var Ja=Aa(fb),Jb=/\{\n\/\* \[wrapped with (.+)\] \*/,Kb=/,? & /,Lb=
/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ib=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Nb=/^(?:0|[1-9]\d*)$/,Ob=Math.min,Ec=Math.min,Ka=0/0,Sb=/^\s+|\s+$/g,Wb=/^[-+]0x[0-9a-f]+$/i,Tb=/^0b[01]+$/i,Ub=/^0o[0-7]+$/i,Vb=parseInt,Ma=1/0,hb=Math.max,ra=function(a,b){return Fa(sb(a,b,z),a+"")}(function(a,b){var c=T(b,ra.placeholder),d=a,e=32,f=void 0,h=b,g=c,l=void 0,p=void 0;b=e&2;if(!b&&"function"!=typeof d)throw new TypeError("Expected a function");
a=h?h.length:0;a||(e&=-97,h=g=void 0);l=void 0===l?l:hb(La(l),0);p=void 0===p?p:La(p);a-=g?g.length:0;if(e&64)var k=h,n=g,h=g=void 0;c=b?void 0:Ia(d);k=[d,e,f,h,g,k,n,void 0,l,p];if(c&&(f=k[1],d=c[1],e=f|d,n=128==d&&8==f||128==d&&256==f&&k[7].length<=c[8]||384==d&&c[7].length<=c[8]&&8==f,131>e||n)){d&1&&(k[2]=c[2],e|=f&1?0:4);if(f=c[3])n=k[3],k[3]=n?Ba(n,f,c[4]):f,k[4]=n?T(k[3],"__lodash_placeholder__"):c[4];if(f=c[5])n=k[5],k[5]=n?Ca(n,f,c[6]):f,k[6]=n?T(k[5],"__lodash_placeholder__"):c[6];(f=c[7])&&
(k[7]=f);d&128&&(k[8]=null==k[8]?c[8]:Ec(k[8],c[8]));null==k[9]&&(k[9]=c[9]);k[0]=c[0];k[1]=e}d=k[0];e=k[1];f=k[2];h=k[3];g=k[4];p=k[9]=void 0===k[9]?b?0:d.length:hb(k[9]-a,0);!p&&e&24&&(e&=-25);b=e&&1!=e?8==e||16==e?Pb(d,e,p):32!=e&&33!=e||g.length?ka.apply(void 0,k):Qb(d,e,f,h):Bb(d,e,f);return Ea((c?fb:Ja)(b,k),d,e)});ra.placeholder={};var Fc=function(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);for(var h=d.length;h--;){var g=d[a?h:++e];if(!1===c(f[g],g,f))break}return b}}(),ib=Object.prototype,
Gc=ib.hasOwnProperty,Hc=ib.propertyIsEnumerable,Pa=Na(function(){return arguments}())?Na:function(a){return K(a)&&Gc.call(a,"callee")&&!Hc.call(a,"callee")},jb="object"==typeof exports&&exports&&!exports.nodeType&&exports,kb=jb&&"object"==typeof module&&module&&!module.nodeType&&module,lb=kb&&kb.exports===jb?A.Buffer:void 0,ma=(lb?lb.isBuffer:void 0)||Yb,q={};q["[object Float32Array]"]=q["[object Float64Array]"]=q["[object Int8Array]"]=q["[object Int16Array]"]=q["[object Int32Array]"]=q["[object Uint8Array]"]=
q["[object Uint8ClampedArray]"]=q["[object Uint16Array]"]=q["[object Uint32Array]"]=!0;q["[object Arguments]"]=q["[object Array]"]=q["[object ArrayBuffer]"]=q["[object Boolean]"]=q["[object DataView]"]=q["[object Date]"]=q["[object Error]"]=q["[object Function]"]=q["[object Map]"]=q["[object Number]"]=q["[object Object]"]=q["[object RegExp]"]=q["[object Set]"]=q["[object String]"]=q["[object WeakMap]"]=!1;var mb="object"==typeof exports&&exports&&!exports.nodeType&&exports,nb=mb&&"object"==typeof module&&
module&&!module.nodeType&&module,sa=nb&&nb.exports===mb&&db.process,ga;a:{try{ga=sa&&sa.binding&&sa.binding("util");break a}catch(a){}ga=void 0}var ob=ga&&ga.isTypedArray,Qa=ob?$b(ob):Zb,ac=Object.prototype.hasOwnProperty,bc=Object.prototype,dc=function(a,b){return function(c){return a(b(c))}}(Object.keys,Object),cc=Object.prototype.hasOwnProperty,fc=function(a,b){return function(c,d){if(null==c)return c;if(!Oa(c))return a(c,d);for(var e=c.length,f=b?e:-1,h=Object(c);(b?f--:++f<e)&&!1!==d(h[f],f,
h););return c}}(function(a,b){return a&&Fc(a,b,Z)}),Ic=Array.prototype.splice;C.prototype.clear=function(){this.__data__=[];this.size=0};C.prototype["delete"]=function(a){var b=this.__data__;a=aa(b,a);if(0>a)return!1;a==b.length-1?b.pop():Ic.call(b,a,1);--this.size;return!0};C.prototype.get=function(a){var b=this.__data__;a=aa(b,a);return 0>a?void 0:b[a][1]};C.prototype.has=function(a){return-1<aa(this.__data__,a)};C.prototype.set=function(a,b){var c=this.__data__,d=aa(c,a);0>d?(++this.size,c.push([a,
b])):c[d][1]=b;return this};var V=J(A,"Map"),W=J(Object,"create"),Jc=Object.prototype.hasOwnProperty,Kc=Object.prototype.hasOwnProperty;L.prototype.clear=function(){this.__data__=W?W(null):{};this.size=0};L.prototype["delete"]=function(a){a=this.has(a)&&delete this.__data__[a];this.size-=a?1:0;return a};L.prototype.get=function(a){var b=this.__data__;return W?(a=b[a],"__lodash_hash_undefined__"===a?void 0:a):Jc.call(b,a)?b[a]:void 0};L.prototype.has=function(a){var b=this.__data__;return W?void 0!==
b[a]:Kc.call(b,a)};L.prototype.set=function(a,b){var c=this.__data__;this.size+=this.has(a)?0:1;c[a]=W&&void 0===b?"__lodash_hash_undefined__":b;return this};B.prototype.clear=function(){this.size=0;this.__data__={hash:new L,map:new (V||C),string:new L}};B.prototype["delete"]=function(a){a=ba(this,a)["delete"](a);this.size-=a?1:0;return a};B.prototype.get=function(a){return ba(this,a).get(a)};B.prototype.has=function(a){return ba(this,a).has(a)};B.prototype.set=function(a,b){var c=ba(this,a),d=c.size;
c.set(a,b);this.size+=c.size==d?0:1;return this};D.prototype.clear=function(){this.__data__=new C;this.size=0};D.prototype["delete"]=function(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a};D.prototype.get=function(a){return this.__data__.get(a)};D.prototype.has=function(a){return this.__data__.has(a)};D.prototype.set=function(a,b){var c=this.__data__;if(c instanceof C){var d=c.__data__;if(!V||199>d.length)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new B(d)}c.set(a,
b);this.size=c.size;return this};ca.prototype.add=ca.prototype.push=function(a){this.__data__.set(a,"__lodash_hash_undefined__");return this};ca.prototype.has=function(a){return this.__data__.has(a)};var Ta=A.Uint8Array,pb=G?G.prototype:void 0,na=pb?pb.valueOf:void 0,Lc=Object.prototype.propertyIsEnumerable,qb=Object.getOwnPropertySymbols,Xa=qb?function(a){if(null==a)return[];a=Object(a);return kc(qb(a),function(b){return Lc.call(a,b)})}:lc,mc=Object.prototype.hasOwnProperty,ta=J(A,"DataView"),ua=
J(A,"Promise"),va=J(A,"Set"),Mc=I(ta),Nc=I(V),Oc=I(ua),Pc=I(va),Qc=I(U),M=N;if(ta&&"[object DataView]"!=M(new ta(new ArrayBuffer(1)))||V&&"[object Map]"!=M(new V)||ua&&"[object Promise]"!=M(ua.resolve())||va&&"[object Set]"!=M(new va)||U&&"[object WeakMap]"!=M(new U))M=function(a){var b=N(a);if(a=(a="[object Object]"==b?a.constructor:void 0)?I(a):"")switch(a){case Mc:return"[object DataView]";case Nc:return"[object Map]";case Oc:return"[object Promise]";case Pc:return"[object Set]";case Qc:return"[object WeakMap]"}return b};
var Va=M,Wa=Object.prototype.hasOwnProperty,rc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qc=/^\w*$/;pa.Cache=B;var Rc=/^\./,Sc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tc=/\\(\\)?/g,tc=function(a){a=pa(a,function(a){500===b.size&&b.clear();return a});var b=a.cache;return a}(function(a){var b=[];Rc.test(a)&&b.push("");a.replace(Sc,function(a,d,e,f){b.push(e?f.replace(Tc,"$1"):d||a)});return b}),sc=1/0,rb=G?G.prototype:void 0,$a=rb?
rb.toString:void 0,uc=1/0,Uc=function(a,b){return function(c,d){var e=w(c)?Xb:ec,f=b?b():{};d="function"==typeof d?d:null==d?z:"object"==typeof d?w(d)?vc(d[0],d[1]):pc(d):oa(d)?wc(da(d)):xc(d);return e(c,a,d,f)}}(function(a,b,c){"__proto__"==c&&ea?ea(a,c,{configurable:!0,enumerable:!0,value:b,writable:!0}):a[c]=b});try{var Vc=function(a){return new a(function(a,c){r.when("A","a-carousel-framework","3p-promise","Airy","ready").register("VSECommonComponentAssets",function(c,e,f,h){var g,l,p,k,n=!1,
m;c.on("vseAiry",function(){r.when("mash").execute("NilgiriService-Mash-Detection",function(a){c.$(".vse-video-block").addClass("mshop");n=!0;k=a})});c.on.orientationchange(function(a){if(0===a.orientation){a=a.height;var b=c.$(".vse-mobile-fixed-container").outerHeight(!0);c.$("#"+p).css({"max-height":a-b,top:b})}});return{initCarousel:function(){c.state.parse();c.state.replace("dp_vse_rvc",JSON.parse(c.$("script[type\x3d'a-state'][data-a-state*\x3ddp_vse_rvc]").html()));var a=c.state("dp_vse_rvc");
if(a){var b=new Cc(e,c,{gatedP:cb,_partial:ra,_keyBy:Uc,EventEmitter:yc,Promise:f});e.createAll();e.initializeAll();b=b.create(a);p=a.carouselName;c.on("vse:contentCarousel:"+p+":click",function(a){var b={mediaSourceInfo:[a.videoUrl],contentId:a.contentId};g&&(g.attach(l),g.loadMedia(b),g.play({isAsync:!0,eventTimestamp:(new Date).getTime()}),c.$(".vse-md-container .vse-md-title").text(a.title))});a=b.getplaylist()[0];b.markPlaying(a)}},initAiry:function(){var a=!1;c.state.parse();c.state.replace("vse_dp_airy",
JSON.parse(c.$("script[type\x3d'a-state'][data-a-state*\x3dvse_dp_airy]").html()));var b=c.state("vse_dp_airy");if(b){m={onScreenChange:function(){a=!1;c.trigger("vsePlayerScreenChange",a);n&&k&&k.dispatchEvent({type:"appOverlays.Show"})},onFullScreen:function(){a=!0;n&&k&&k.dispatchEvent({type:"appOverlays.Hide"})},onPlay:function(){"true"!==f.enableFullScreenByDefault.toLowerCase()||g.isFullScreen()||(g.enterFullScreen({isAsync:!0}),n&&k&&k.dispatchEvent({type:"appOverlays.Hide"}))}};var e=b.foresterConfiguration,
f=b.playerConfiguration,e={contentId:e.contentId,desiredMode:"html",foresterMetadataParams:{client:e.client,marketplaceId:e.marketplaceId,method:e.method,requestId:e.requestId,session:e.sessionId},isAutoplayEnabled:!1,mediaRequiresUserAction:"true"===f.mediaRequiresUserAction.toLowerCase(),mediaSourceInfo:[b.videoUrl],pageAsin:e.pageAsin,parentId:b.id,usePseudoFullscreen:"true"===f.usePseudoFullscreen.toLowerCase(),swfUrl:b.playerConfiguration.airy_alt_player_source,shouldPlayHintStartHidden:!0,bindings:{play:function(){return m.onPlay()},
normalscreen:function(){return m.onScreenChange()},fullscreen:function(){return m.onFullScreen()}}};"true"===f.supportsInlinePlayback.toLowerCase()&&(e.supportsInlinePlayback=!0);g=h.embed(e);l=b.id;c.trigger("vseAiry",{airy:g,containerId:b.id})}},_noneFeature:a()}})})};r.when("A","3p-promise").execute("VSE-gatedP-register-ns-client",function(a,b){cb.register("VSECommonComponentAssets","VSE-NS-client-registered",Vc,b)})}catch(a){u.ueLogError&&u.ueLogError(a,{logLevel:"ERROR",attribution:"vse-nilgiri-service",
message:"NSE: "})}})()});