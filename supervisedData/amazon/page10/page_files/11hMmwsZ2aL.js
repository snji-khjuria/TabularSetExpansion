(function(h){var n=window.AmazonUIPageJS||window.P,r=n._namespace||n.attributeErrors,b=r?r("CustomerReviewsMedleyAssets"):n;b.guardFatal?b.guardFatal(h)(b,window):b.execute(function(){h(b,window)})})(function(h,n,r){h.when("A","medley-view","medley-model","ready").register("medley-controller",function(b,a,c){function d(b){b=c.getASIN();var d=a.getDisplayedASIN();d&&b!==d&&(a.fadeReviews(!0),c.getReviews(d,function(){c.setASIN(d)},function(){},function(){a.fadeReviews(!1)}))}var g=a.getLoadedASIN();
c.setASIN(g);b.on("a:pageUpdate",d);return{onTwist:d}});h.when("A","jQuery").register("medley-view",function(b,a){return{getDisplayedASIN:function(){return String(a("#ASIN").val()||"")},getLoadedASIN:function(){return(b.$("#cr-state-object").data("state")||{}).asin||""},fadeReviews:function(b){!1===b?a("#cm-cr-review-list .review,#most-recent-reviews-content .review").css("opacity",1):a("#cm-cr-review-list .review,#most-recent-reviews-content .review").css("opacity",.5)}}});
h.when("A","cr-global-model","cr-ajax-model","cr-uri-utils").register("medley-model",function(b,a,c,d){function g(a){var b=d.getUrlParametersMap()||{};b.asin=a;return b}var f;return{setASIN:function(a){f=a||""},getASIN:function(){return f},getReviews:function(a,d,f,k){var h=b.$("#cr-state-object").data("state");"string"===typeof a&&10===a.length?c.post(h.medleyReviewsAjaxUrl,{params:g(a),attribution:"getMedleyReviews",success:d,error:f,finallyCallback:k}):"function"===typeof k&&k()}}});
h.when("A","review-skyfall-view","review-skyfall-model","reviews-constants","cr-global-view","a-button","cr-log-utils").register("review-skyfall-controller",function(b,a,c,d,g,f,e){function h(a){a=g.getReftag(a);c.clickMetric(a,function(){})}function l(b,d){a.showMoreFeedbackSection(b.$target.closest(".feedback-section"));var e=g.getReftag(b);c.clickMetric(e,function(a){d.disable()})}b.declarative(d.events.FEEDBACK_CLICK,"click",function(a){var b=f(".cr-feedback-helpful-yes, .cr-feedback-helpful-no");
l(a,b)});b.declarative(d.events.CLIQUE_CLICK,"click",h);b.on("a:expander:clique-ratings-read-more:toggle:expand",function(a){e.incrementCount("skyfallReadMore")});b.on("a:popover:show:skyfallWhatsThis",function(a){e.incrementCount("skyfallWhatsThis")});return{feedbackClick:l,cliqueClick:h}});h.when("A","cr-ajax-model","cr-global-model").register("review-skyfall-model",function(b,a,c){return{clickMetric:function(d,g){var f=b.$("#cr-state-object").data("state"),f=c.generateUrl(f.reftagTriggerUrl,
d);a.post(f,{params:{},success:g})}}});h.when("A","reviews-constants").register("review-skyfall-view",function(b,a){return{showMoreFeedbackSection:function(b){b.find(".more-feedback-section").removeClass(a.aui.HIDDEN);b.find(".is-feature-helpful-row").addClass(a.aui.HIDDEN)}}})});